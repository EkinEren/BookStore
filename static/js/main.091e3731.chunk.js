(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){},176:function(e,t,a){e.exports=a(339)},181:function(e,t,a){},339:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(7),o=a.n(l),c=(a(181),a(346)),i=a(43),s=a(39),u=a(40),m=a(44),p=a(41),d=a(45),h=a(340),b=a(347),f=a(348),E=function(){return r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"#317eac"}},"Home Page"),r.a.createElement("h2",null,"Welcome to the Bookstore!"),r.a.createElement("p",null,"Browse and buy e-books from our online store."),r.a.createElement("p",null,"This application is done with react, redux and react router."))},y=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About"),r.a.createElement("p",null,"This website uses ",r.a.createElement("b",null,"Google Books")," api to get book data."),r.a.createElement("p",null,"You can browse and buy (not literally) e-books from our online bookstore."),r.a.createElement("p",null,"While browsing, add books you'd like to buy to your shopping cart."),r.a.createElement("p",null,'You can view the books in your cart and checkout from "cart" navigation. Happy shopping and reading!'))},v=a(172),C="https://www.googleapis.com/books/v1/volumes?printType=books&filter=paid-ebooks&key=".concat("AIzaSyBCox8les0CfjfMSKuBhGmrYQmklFHv7iA"),g=function(){return{type:"FETCH_BOOKS_BEGIN"}},k=function(e){return{type:"FETCH_BOOKS_SUCCESS",payload:e}},I=function(e){return{type:"FETCH_BOOKS_FAILURE",payload:e}};var O=a(11),j=a(160),w=a(342),S=a(345),B=a(27),T=(a(122),a(343)),x=a(344),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isVisible:!1},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"inline-block",padding:30}},r.a.createElement(T.a,{title:this.props.title,className:"well",cover:r.a.createElement("img",{src:this.props.image,alt:"Not available",style:{width:200,height:250,paddingTop:10,paddingLeft:35}})},r.a.createElement("p",null,this.props.price," ",this.props.currencyCode),r.a.createElement(B.a,{type:"primary",className:"Button-space",onClick:this.showModal}," Details "),r.a.createElement(B.a,{type:"primary",className:"Button-space",onClick:this.props.addToCart}," Add to Cart "),r.a.createElement(x.a,{title:"Book Details",style:{textAlign:"center"},visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},r.a.createElement("p",null,r.a.createElement("b",null,"Title : "),this.props.title),r.a.createElement("p",null,r.a.createElement("b",null,"Author(s) : "),this.props.authors),r.a.createElement("p",null,r.a.createElement("b",null,"Publisher : "),this.props.publisher),r.a.createElement("p",null,r.a.createElement("b",null,"Published Date : "),this.props.date),r.a.createElement("p",null,r.a.createElement("b",null,"Description : "),this.props.description))))}}]),t}(r.a.Component),A=r.a.createElement(O.a,{type:"loading",style:{fontSize:24},spin:!0}),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={input:""},a.handleSubmit=function(e){e.preventDefault(),a.props.fetchBooksWithRedux(a.state.input)},a.handleChange=function(e){a.setState({input:e.target.value})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.error;return a?r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(j.a,{indicator:A}),r.a.createElement("h2",null,"Loading...")):r.a.createElement("div",null,r.a.createElement(w.a,{className:"well",layout:"inline",onSubmit:this.handleSubmit},r.a.createElement("fieldset",{className:"fieldset"},r.a.createElement("legend",null,"Search Books..."),r.a.createElement("label",{htmlFor:"title",style:{fontSize:"large"}}," Keyword: "),r.a.createElement(S.a,{type:"text",id:"title",name:"title",style:{width:200,marginLeft:20},onChange:this.handleChange}),"\xa0",r.a.createElement(B.a,{type:"primary",htmlType:"submit",className:"Button-space"}," Submit "),r.a.createElement(B.a,{type:"danger",htmlType:"reset",className:"Button-space"}," Reset "))),null!==n?r.a.createElement("p",{style:{textAlign:"center"}},"The books you were searching for couldn't be found."):r.a.createElement("div",{style:{padding:"30px",display:"flex",flexWrap:"wrap"}},this.props.books.map(function(t,a){return r.a.createElement(N,{key:a,title:t.volumeInfo.title,image:t.volumeInfo.imageLinks.smallThumbnail,price:t.saleInfo.listPrice.amount,currencyCode:t.saleInfo.listPrice.currencyCode,authors:t.volumeInfo.authors?t.volumeInfo.authors.join(", "):"Not provided",publisher:t.volumeInfo.publisher,date:t.volumeInfo.publishedDate,addToCart:function(){return e.props.addItem(e.props.books[a])},description:t.volumeInfo.description})})))}}]),t}(r.a.Component),_=Object(i.b)(function(e){return{books:e.searchReducer.books,loading:e.searchReducer.loading,error:e.searchReducer.error}},{fetchBooksWithRedux:function(e){return function(t){return t(g()),function(e){var t="".concat(C,"&q=").concat(e);return fetch(t,{method:"GET"}).then(function(e){return Promise.all([e,e.json()])})}(e).then(function(e){var a=Object(v.a)(e,2),n=a[0],r=a[1];200===n.status&&t(k(r))}).catch(function(e){return t(I(e))})}},addItem:function(e){return function(t){t({type:"ADD_ITEM",payload:e})}}})(R),F=a(341),M=F.a.Column,P=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Books in your cart  "),r.a.createElement("p",null,"Number of items in your cart : ",this.props.itemsInCart.length),r.a.createElement(F.a,{dataSource:this.props.itemsInCart,rowKey:"id",footer:function(){return"Total Cost : "+Math.abs(e.props.totalCost.toFixed(2))}},r.a.createElement(M,{title:"Title",dataIndex:"volumeInfo.title",key:"volumeInfo.title"}),r.a.createElement(M,{title:"Author(s)",dataIndex:"volumeInfo.authors",key:"volumeInfo.authors",render:function(e){return r.a.createElement("span",null,e.join(", "))}}),r.a.createElement(M,{title:"Price",dataIndex:"saleInfo.listPrice.amount",key:"saleInfo.listPrice.amount"}),r.a.createElement(M,{title:"Remove Item",key:"id",render:function(t,a){return r.a.createElement("span",null,r.a.createElement(B.a,{type:"danger",onClick:function(){return e.props.removeItem(e.props.itemsInCart.filter(function(e){return e.id===a.id}))}},"Delete"))}})),r.a.createElement(B.a,{type:"primary",style:{float:"right"},onClick:function(){return alert(0!==Math.abs(e.props.totalCost)?"Checkout - Total Cost : "+Math.abs(e.props.totalCost.toFixed(2)):"Add some books to your cart!")}},"Checkout"))}}]),t}(r.a.Component),D=Object(i.b)(function(e){return{itemsInCart:e.cartReducer.itemsInCart,totalCost:e.cartReducer.totalCost}},{removeItem:function(e){return function(t){t({type:"REMOVE_ITEM",payload:e})}}})(P),H=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(c.a,{basename:"/BookStore/"},r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"collapse navbar-collapse",id:"bs-example-navbar-collapse-1"},r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",null,r.a.createElement(h.a,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/container"},"Browse")),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/cart"},r.a.createElement("span",{className:"glyphicon glyphicon-shopping-cart"})," Cart ",r.a.createElement("span",{className:"badge"},this.props.numberOfItems))))))),r.a.createElement(b.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:E}),r.a.createElement(f.a,{path:"/about",component:y}),r.a.createElement(f.a,{path:"/container",component:_}),r.a.createElement(f.a,{path:"/cart",component:D}))))}}]),t}(r.a.Component),K=Object(i.b)(function(e){return{numberOfItems:e.cartReducer.itemsInCart.length}},null)(H),L=a(53),G=a(170),W=a(171),U=a.n(W),z={itemsInCart:[],totalCost:0},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ITEM":return-1===e.itemsInCart.findIndex(function(e){return e.id===t.payload.id})?{itemsInCart:e.itemsInCart.concat(t.payload),totalCost:e.totalCost+t.payload.saleInfo.listPrice.amount}:e;case"REMOVE_ITEM":return{itemsInCart:e.itemsInCart.filter(function(e){return e!==t.payload[0]}),totalCost:e.totalCost-t.payload[0].saleInfo.listPrice.amount};default:return e}},Y=a(91),J={books:[],loading:!1,error:null};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BOOKS_BEGIN":return Object(Y.a)({},e,{loading:!0,error:null});case"FETCH_BOOKS_SUCCESS":return Object(Y.a)({},e,{loading:!1,books:(a=t.payload,a.items.filter(function(e){return e.saleInfo.listPrice}).map(function(e){return e}))});case"FETCH_BOOKS_FAILURE":return Object(Y.a)({},e,{loading:!1,error:t.payload,books:[]});default:return e}var a},Q=Object(L.c)({cartReducer:V,searchReducer:q}),X=Object(L.d)(Q,Object(L.a)(G.a,U.a));o.a.render(r.a.createElement(i.a,{store:X},r.a.createElement(c.a,null,r.a.createElement(K,null))),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.091e3731.chunk.js.map